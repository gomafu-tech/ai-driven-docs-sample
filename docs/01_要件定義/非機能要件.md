# 非機能要件定義書

## 可用性要件

### 運用スケジュール
| 項目 | 要件 | 測定方法 |
|------|------|----------|
| 運用時間（通常） | 24時間無停止 | システム監視 |
| 運用時間（特定日） | 24時間無停止 | システム監視 |
| 計画停止の有無 | 計画停止無し | 保守計画管理 |

### 稼働率・復旧要件
| 項目 | 要件 | 測定方法 |
|------|------|----------|
| 稼働率 | 99.9%以上 | 稼働時間監視 |
| RPO（目標復旧地点） | 1営業日前の時点 | バックアップ管理 |
| RTO（目標復旧時間） | 6時間以内 | 復旧手順書 |

### バックアップ要件
| 項目 | 要件 | 実装方法 |
|------|------|----------|
| バックアップ方式 | オンラインバックアップ | 自動バックアップシステム |
| データ復旧範囲 | システム内の全データを復旧 | バックアップ検証 |
| バックアップ保存期間 | 3年 | ストレージ管理 |

## 性能・拡張性要件

### 業務処理量
| 項目 | 現在 | 1年後 | 3年後 | 対応方法 |
|------|------|--------|--------|----------|
| ユーザ数 | 100人 | 200人 | 500人 | スケールアウト |
| 同時アクセス数 | 50人 | 100人 | 250人 | ロードバランサ |
| データ量 | 10GB | 50GB | 200GB | ストレージ拡張 |
| オンラインリクエスト件数 | 1,000件/日 | 5,000件/日 | 20,000件/日 | 性能チューニング |

### 性能目標値
| 項目 | 通常時 | ピーク時 | 測定条件 |
|------|--------|----------|----------|
| オンラインレスポンス | 3秒以内（95%） | 5秒以内（90%） | 検索・登録処理 |
| バッチ処理時間 | 所定の時間内に収まる | 再実行の余裕が確保できる | 日次処理 |

### 保管期間
| データ種別 | 保管期間 | 保管方法 |
|------------|----------|----------|
| 貸出履歴 | 5年 | データベース |
| システムログ | 1年 | ログファイル |
| バックアップデータ | 3年 | 外部ストレージ |

## 運用・保守性要件

### 運用時間
| 項目 | 要件 | 備考 |
|------|------|------|
| 運用時間（通常） | 24時間無停止 | 図書館の開館時間に依存しない |
| 運用時間（特定日） | 24時間無停止 | 祝日・年末年始も含む |

### 運用監視
| 項目 | 要件 | 実装方法 |
|------|------|----------|
| 監視情報 | リソース監視を行う | システム監視ツール |
| 監視間隔 | リアルタイム監視（分間隔） | アラート通知 |
| 監視対象 | システム全体 | サーバ・DB・ネットワーク |

### 保守運用
| 項目 | 要件 | 実装方法 |
|------|------|----------|
| 計画停止の有無 | 計画停止無し | 活性保守対応 |
| 保守契約（ハードウェア） | システムを構成する全製品を対象 | マルチベンダ契約 |
| 保守契約（ソフトウェア） | システムを構成する全製品を対象 | マルチベンダ契約 |
| マニュアル準備レベル | システムの通常運用と保守運用のマニュアルを提供 | 運用手順書作成 |

## セキュリティ要件

### 認証機能
| 対象 | 要件 | 実装方法 |
|------|------|----------|
| 管理権限を持つ主体 | 複数回の認証 | ID/パスワード + 二要素認証 |
| 管理権限を持たない主体 | 1回認証 | ID/パスワード認証 |

### データ暗号化
| 項目 | 要件 | 実装方法 |
|------|------|----------|
| 伝送データの暗号化 | 重要情報を暗号化 | HTTPS/TLS通信 |
| 蓄積データの暗号化 | 認証情報のみ暗号化 | データベース暗号化 |

### 不正監視
| 項目 | 要件 | 実装方法 |
|------|------|----------|
| ログの取得 | 実施する | アクセスログ・操作ログ取得 |
| ログ保管期間 | 3年 | ログストレージ |
| 不正監視対象（装置） | システム全体 | 監視システム |
| 不正監視対象（ネットワーク） | システム全体 | ネットワーク監視 |
| 不正監視対象（侵入者・不正操作等） | システム全体 | セキュリティ監視 |

### ネットワーク対策
| 項目 | 要件 | 実装方法 |
|------|------|----------|
| 通信制御 | 有り | ファイアウォール |
| 不正通信の検知範囲 | システム全体 | IDS/IPS |
| ネットワークの輻輳対策 | 有り | DDoS対策 |

### マルウェア対策
| 項目 | 要件 | 実装方法 |
|------|------|----------|
| マルウェア対策実施範囲 | システム全体 | ウイルス対策ソフト |
| リアルタイムスキャン | 実施する | 常時監視 |
| フルスキャン頻度 | 1回/週 | 定期スキャン |

## その他要件

### システム特性
| 項目 | 要件 | 備考 |
|------|------|------|
| ユーザ数 | 上限が決まっている | 図書館利用者数に依存 |
| 拠点数 | 単一拠点 | 本館のみ |
| 地域的広がり | 拠点内 | 図書館内のみ |
| システム利用範囲 | 社外（利用者向け） | 図書館利用者・職員 |

### 外部システム接続
| 項目 | 要件 | 接続先 |
|------|------|--------|
| 外部システムとの接続 | 社外の外部システムと接続する | 書誌データベース・決済システム |

### 移行要件
| 項目 | 要件 | 対応方法 |
|------|------|----------|
| 移行データ量 | 1TB未満 | 段階的移行 |
| 移行データ形式 | 移行先と形式が異なる | データ変換ツール |