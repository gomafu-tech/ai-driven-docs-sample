# テーブル定義一覧

## 表記ルール
- NULL可能な場合のみNOT NULL欄に「○」と記載（基本はNOT NULL）
- PK: PRIMARY KEY
- FK: FOREIGN KEY（参照先をテーブル名.カラム名で記載）

## 1. 管理系テーブル

### 管理者
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 管理者ID              | INT            | ○  |    |         |      |
| 管理者名              | VARCHAR(50)    |    |    |         |      |
| メールアドレス          | VARCHAR(50)    |    |    |         |      |
| パスワードハッシュ       | VARCHAR(100)   |    |    |         |      |

### 休館日
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 日付                  | DATE           | ○  |    |         |      |
| 説明                  | VARCHAR(100)   |    |    |         |      |

## 2. 利用申請系テーブル

### 利用申請
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 利用申請ID            | INT            | ○  |    |         |      |
| 会員種別              | VARCHAR(50)    |    |    |         |      |
| 利用申請ステータス      | VARCHAR(50)    |    |    |         |      |

### 利用申請イベント
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 利用申請イベントID      | INT            | ○  |    |         |      |
| 利用申請ID            | INT            |    | 利用申請.利用申請ID |         |      |
| 利用申請ステータス      | VARCHAR(50)    |    |    |         |      |
| イベント発生日時        | DATETIME       |    |    |         | DEFAULT CURRENT_TIMESTAMP |

### 個人会員利用申請提出
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 利用申請イベントID      | INT            | ○  | 利用申請イベント.利用申請イベントID |         |      |
| 利用申請ID            | INT            |    | 利用申請.利用申請ID |         |      |
| 氏名                  | VARCHAR(50)    |    |    |         |      |
| 生年月日              | DATE           |    |    |         |      |
| 電話番号              | VARCHAR(12)    |    |    |         |      |
| メールアドレス          | VARCHAR(50)    |    |    |         |      |
| 住所                  | VARCHAR(200)   |    |    |         |      |
| 利用目的              | VARCHAR(200)   |    |    |         |      |
| 証明書ファイルパス      | VARCHAR(200)   |    |    |         |      |

### 団体会員利用申請提出
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 利用申請イベントID      | INT            | ○  | 利用申請イベント.利用申請イベントID |         |      |
| 利用申請ID            | INT            |    | 利用申請.利用申請ID |         |      |
| 団体名                | VARCHAR(50)    |    |    |         |      |
| 団体種別              | VARCHAR(50)    |    |    |         |      |
| 団体電話番号          | VARCHAR(12)    |    |    |         |      |
| 団体住所              | VARCHAR(200)   |    |    |         |      |
| 団体メールアドレス      | VARCHAR(50)    |    |    |         |      |
| 代表者氏名            | VARCHAR(50)    |    |    |         |      |
| 代表者電話番号        | VARCHAR(12)    |    |    |         |      |
| 代表者メールアドレス    | VARCHAR(50)    |    |    |         |      |
| 利用目的              | VARCHAR(200)   |    |    |         |      |
| 証明書ファイルパス      | VARCHAR(200)   |    |    |         |      |

### 利用申請承認
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 利用申請イベントID      | INT            | ○  | 利用申請イベント.利用申請イベントID |         |      |
| 利用申請ID            | INT            |    | 利用申請.利用申請ID |         |      |
| 承認管理者ID          | INT            |    | 管理者.管理者ID |         |      |

### 利用申請否認
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 利用申請イベントID      | INT            | ○  | 利用申請イベント.利用申請イベントID |         |      |
| 利用申請ID            | INT            |    | 利用申請.利用申請ID |         |      |
| 否認管理者ID          | INT            |    | 管理者.管理者ID |         |      |
| 否認理由              | VARCHAR(200)   |    |    |         |      |

## 3. 会員系テーブル

### 会員
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 会員ID                | INT            | ○  |    |         |      |
| 会員種別              | VARCHAR(50)    |    |    |         |      |

### 利用開始
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 利用申請イベントID      | INT            | ○  | 利用申請イベント.利用申請イベントID |         |      |
| 利用申請ID            | INT            |    | 利用申請.利用申請ID |         |      |
| 会員ID                | INT            |    | 会員.会員ID |         |      |
| 担当管理者ID          | INT            |    | 管理者.管理者ID |         |      |

### 個人会員
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 会員ID                | INT            | ○  | 会員.会員ID |         |      |
| 氏名                  | VARCHAR(50)    |    |    |         |      |
| 生年月日              | DATE           |    |    |         |      |
| 住所                  | VARCHAR(200)   |    |    |         |      |
| 電話番号              | VARCHAR(12)    |    |    |         |      |
| メールアドレス          | VARCHAR(50)    |    |    |         |      |

### 団体会員
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 会員ID                | INT            | ○  | 会員.会員ID |         |      |
| 団体名                | VARCHAR(50)    |    |    |         |      |
| 団体種別              | VARCHAR(50)    |    |    |         |      |
| 団体電話番号          | VARCHAR(12)    |    |    |         |      |
| 団体住所              | VARCHAR(200)   |    |    |         |      |
| 団体メールアドレス      | VARCHAR(50)    |    |    |         |      |
| 代表者氏名            | VARCHAR(50)    |    |    |         |      |
| 代表者電話番号        | VARCHAR(12)    |    |    |         |      |
| 代表者メールアドレス    | VARCHAR(50)    |    |    |         |      |

### 提携図書館
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 会員ID                | INT            | ○  | 会員.会員ID |         |      |
| 図書館名              | VARCHAR(50)    |    |    |         |      |
| 図書館コード          | VARCHAR(10)    |    |    |         |      |
| 担当者名              | VARCHAR(50)    |    |    |         |      |
| 住所                  | VARCHAR(200)   |    |    |         |      |
| 電話番号              | VARCHAR(12)    |    |    |         |      |

### 会員カード
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 会員カードID          | INT            | ○  |    |         |      |
| 会員ID                | INT            |    | 会員.会員ID |         |      |
| 発行日                | DATE           |    |    |         |      |
| 有効期限              | DATE           |    |    |         |      |
| ステータス            | VARCHAR(50)    |    |    |         |      |

## 4. 書誌・蔵書系テーブル

### 書誌
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 書誌ID                | VARCHAR(12)    | ○  |    |         |      |
| タイトル              | VARCHAR(400)   |    |    |         |      |
| タイトルよみ          | VARCHAR(400)   |    |    |         |      |
| シリーズタイトル        | VARCHAR(300)   |    |    |         |      |
| 責任表示              | VARCHAR(400)   |    |    |         |      |
| 出版者                | VARCHAR(300)   |    |    |         |      |
| 出版地                | VARCHAR(10)    |    |    |         |      |
| 出版年月日等          | VARCHAR(40)    |    |    |         |      |
| 出版年                | VARCHAR(10)    |    |    |         |      |
| 分類_NDC              | VARCHAR(60)    |    |    |         |      |
| 分類_NDLC             | VARCHAR(128)   |    |    |         |      |
| 件名標目              | VARCHAR(200)   |    |    |         |      |
| ジャンル_形式用語      | VARCHAR(100)   |    |    |         |      |
| 請求記号              | VARCHAR(50)    |    |    |         |      |
| ISBN                  | VARCHAR(512)   |    |    |         |      |

### 書誌カテゴリ
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 書誌カテゴリID        | INT            | ○  |    |         |      |
| 名称                  | VARCHAR(100)   |    |    |         |      |
| 説明                  | TEXT           |    |    |         |      |

### 蔵書
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 蔵書ID                | INT            | ○  |    |         |      |
| 書誌ID                | VARCHAR(12)    |    | 書誌.書誌ID |         |      |
| ステータス            | VARCHAR(50)    |    |    |         |      |
| 保管場所              | VARCHAR(100)   |    |    |         |      |

### 蔵書イベント
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 蔵書イベントID        | INT            | ○  |    |         |      |
| 蔵書ID                | INT            |    | 蔵書.蔵書ID |         |      |
| ステータス            | VARCHAR(50)    |    |    |         |      |
| イベント発生日時        | DATETIME       |    |    |         | DEFAULT CURRENT_TIMESTAMP |

### 蔵書場所移動
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 蔵書イベントID        | INT            | ○  | 蔵書イベント.蔵書イベントID |         |      |
| 蔵書ID                | INT            |    | 蔵書.蔵書ID |         |      |
| 保管場所              | INT            |    |    |         |      |

### 蔵書処分
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 蔵書イベントID        | INT            | ○  | 蔵書イベント.蔵書イベントID |         |      |
| 蔵書ID                | INT            |    | 蔵書.蔵書ID |         |      |
| 処分理由              | VARCHAR(200)   |    |    |         |      |

## 5. 貸出系テーブル

### 一括貸出
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 一括貸出ID            | INT            | ○  |    |         |      |
| 会員ID                | INT            |    | 会員.会員ID |         |      |

### 貸出
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 貸出ID                | INT            | ○  |    |         |      |
| 貸出ステータス        | INT            |    |    |         |      |

### 貸出イベント
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 貸出イベントID        | INT            | ○  |    |         |      |
| 貸出ID                | INT            |    | 貸出.貸出ID |         |      |
| 貸出ステータス        | VARCHAR(50)    |    |    |         |      |
| イベント発生日時        | DATETIME       |    |    |         | DEFAULT CURRENT_TIMESTAMP |

### 貸出開始
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 貸出イベントID        | INT            | ○  | 貸出イベント.貸出イベントID |         |      |
| 貸出ID                | INT            |    | 貸出.貸出ID |         |      |
| 会員ID                | INT            |    | 会員.会員ID |         |      |
| 蔵書ID                | INT            |    | 蔵書.蔵書ID |         |      |
| 貸出日                | DATE           |    |    |         |      |
| 貸出期限              | DATE           |    |    |         |      |

### 延長
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 延長ID                | INT            | ○  |    |         |      |
| 貸出イベントID        | INT            |    | 貸出イベント.貸出イベントID |         |      |
| 貸出ID                | INT            |    | 貸出.貸出ID |         |      |
| 延長日                | DATE           |    |    |         |      |
| 延長期限              | DATE           |    |    |         |      |

### 返却
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 貸出イベントID        | INT            | ○  | 貸出イベント.貸出イベントID |         |      |
| 貸出ID                | INT            |    | 貸出.貸出ID |         |      |
| 返却日                | DATE           |    |    |         |      |

### 強制キャンセル
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 貸出イベントID        | INT            | ○  | 貸出イベント.貸出イベントID |         |      |
| 貸出ID                | INT            |    | 貸出.貸出ID |         |      |
| 強制キャンセル日        | DATE           |    |    |         |      |
| 強制キャンセル理由      | VARCHAR(200)   |    |    |         |      |
| 管理者ID              | INT            |    | 管理者.管理者ID |         |      |

### 貸出中
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 貸出ID                | INT            | ○  | 貸出.貸出ID |         |      |
| 会員ID                | INT            |    | 会員.会員ID |         |      |
| 蔵書ID                | INT            |    | 蔵書.蔵書ID |         |      |
| 貸出日                | DATE           |    |    |         |      |
| 貸出期限              | DATE           |    |    |         |      |

## 6. 予約系テーブル

### 予約
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 予約ID                | INT            | ○  |    |         |      |
| 予約ステータス        | VARCHAR(50)    |    |    |         |      |

### 予約イベント
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 予約イベントID        | INT            | ○  |    |         |      |
| 予約ID                | INT            |    | 予約.予約ID |         |      |
| 予約ステータス        | VARCHAR(50)    |    |    |         |      |
| イベント発生日時        | DATETIME       |    |    |         | DEFAULT CURRENT_TIMESTAMP |

### 予約申込
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 予約イベントID        | INT            | ○  | 予約イベント.予約イベントID |         |      |
| 予約ID                | INT            |    | 予約.予約ID |         |      |
| 会員ID                | INT            |    | 会員.会員ID |         |      |
| 書誌ID                | VARCHAR(12)    |    | 書誌.書誌ID |         |      |
| 予約開始日            | DATE           |    |    |         |      |

### 予約キャンセル
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 予約イベントID        | INT            | ○  | 予約イベント.予約イベントID |         |      |
| 予約ID                | INT            |    | 予約.予約ID |         |      |
| 予約キャンセル日時      | DATE           |    |    |         |      |

### 予約無効
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 予約イベントID        | INT            | ○  | 予約イベント.予約イベントID |         |      |
| 予約ID                | INT            |    | 予約.予約ID |         |      |
| 無効化理由            | VARCHAR(200)   |    |    |         |      |
| 無効化管理者ID        | INT            |    | 管理者.管理者ID |         |      |

### 予約取置き
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 予約イベントID        | INT            | ○  | 予約イベント.予約イベントID |         |      |
| 予約ID                | INT            |    | 予約.予約ID |         |      |
| 取置き開始日          | DATE           |    |    |         |      |
| 取り置き期限          | DATE           |    |    |         |      |

### 予約貸出完了
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 予約イベントID        | INT            | ○  | 予約イベント.予約イベントID |         |      |
| 予約ID                | INT            |    | 予約.予約ID |         |      |
| 貸出ID                | INT            |    | 貸出.貸出ID |         |      |

### 予約中
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 予約ID                | INT            | ○  | 予約.予約ID |         |      |
| 会員ID                | INT            |    | 会員.会員ID |         |      |
| 書誌ID                | VARCHAR(12)    |    | 書誌.書誌ID |         |      |
| 予約日                | DATE           |    |    |         |      |

### 取置き中
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 予約ID                | INT            | ○  | 予約.予約ID |         |      |
| 会員ID                | INT            |    | 会員.会員ID |         |      |
| 蔵書ID                | INT            |    | 蔵書.蔵書ID |         |      |
| 取置き日              | DATE           |    |    |         |      |
| 取置き期限            | DATE           |    |    |         |      |

## 7. 相互貸渡系テーブル

### 相互貸渡
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 相互貸渡ID            | INT            | ○  |    |         |      |
| 相互貸渡ステータス      | VARCHAR(50)    |    |    |         |      |

### 相互貸渡イベント
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 相互貸渡イベントID      | INT            | ○  |    |         |      |
| 相互貸渡ID            | INT            |    | 相互貸渡.相互貸渡ID |         |      |
| 相互貸渡ステータス      | VARCHAR(50)    |    |    |         |      |
| イベント発生日時        | DATETIME       |    |    |         | DEFAULT CURRENT_TIMESTAMP |

### 相互貸渡申込
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 相互貸渡イベントID      | INT            | ○  | 相互貸渡イベント.相互貸渡イベントID |         |      |
| 相互貸渡ID            | INT            |    | 相互貸渡.相互貸渡ID |         |      |
| 提携図書館ID          | INT            |    | 提携図書館.会員ID |         |      |
| 書誌ID                | VARCHAR(12)    |    | 書誌.書誌ID |         |      |
| 郵送先住所            | VARCHAR(200)   |    |    |         |      |
| 郵送先電話番号        | VARCHAR(12)    |    |    |         |      |
| 郵送先氏名            | VARCHAR(50)    |    |    |         |      |
| 利用料                | INT            |    |    |         |      |
| 入金期限              | DATE           |    |    |         |      |

### 相互貸渡入金
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 相互貸渡イベントID      | INT            | ○  | 相互貸渡イベント.相互貸渡イベントID |         |      |
| 相互貸渡ID            | INT            |    | 相互貸渡.相互貸渡ID |         |      |
| 入金日                | DATE           |    |    |         |      |
| 予約ID                | INT            |    | 予約.予約ID |         |      |

### 相互貸渡郵送
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 相互貸渡イベントID      | INT            | ○  | 相互貸渡イベント.相互貸渡イベントID |         |      |
| 相互貸渡ID            | INT            |    | 相互貸渡.相互貸渡ID |         |      |
| 郵送日                | DATE           |    |    |         |      |
| 貸出ID                | INT            |    | 貸出.貸出ID |         |      |

## 8. 弁償系テーブル

### 弁償請求
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 弁償請求ID            | INT            | ○  |    |         |      |
| 会員ID                | INT            |    | 会員.会員ID |         |      |
| 蔵書ID                | INT            |    | 蔵書.蔵書ID |         |      |
| 貸出ID                | INT            |    | 貸出.貸出ID |         |      |
| 請求理由              | VARCHAR(200)   |    |    |         |      |
| 請求金額              | INT            |    |    |         |      |
| 請求日                | DATE           |    |    |         |      |

### 弁償入金
| カラム名               | データ型        | PK | FK | NOT NULL | 説明 |
|----------------------|----------------|----|----|---------|----- |
| 弁償請求ID            | INT            | ○  | 弁償請求.弁償請求ID |         |      |
| 入金日                | DATE           |    |    |         |      |