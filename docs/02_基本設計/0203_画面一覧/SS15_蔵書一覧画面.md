# SS15: 蔵書一覧画面

**アクセス方法**: スタッフメニュー → 蔵書管理 → 蔵書一覧 / 蔵書登録画面 → 一覧表示  
**関連業務フロー**: 蔵書管理

## 主要機能
1. **蔵書検索**: 複数条件による蔵書検索
2. **一覧表示**: 検索結果の一覧表示
3. **蔵書状態管理**: 蔵書状態の一括変更
4. **詳細確認**: 個別蔵書の詳細情報確認

## 検索項目

### 基本検索
| 項目名 | 入力方式 | 備考 |
|--------|----------|------|
| 資料番号 | テキスト入力 | 完全一致 |
| バーコード | テキスト入力 | 完全一致 |
| 書名 | テキスト入力 | 部分一致 |
| 著者名 | テキスト入力 | 部分一致 |
| ISBN | テキスト入力 | 完全一致 |

### 詳細検索
| 項目名 | 入力方式 | 備考 |
|--------|----------|------|
| 出版社 | テキスト入力 | 部分一致 |
| 出版年 | 数値範囲 | 開始年～終了年 |
| NDC分類 | 選択 | 分類階層選択 |
| 配架場所 | プルダウン | |
| 蔵書状態 | プルダウン | 正常/整理中/除籍等 |
| 利用区分 | プルダウン | 貸出可/館内のみ等 |
| 受入日 | 日付範囲 | 開始日～終了日 |
| 受入方法 | プルダウン | 購入/寄贈/交換 |

## 表示項目

### 一覧表示項目
| 項目名 | 表示内容 | 備考 |
|--------|----------|------|
| 資料番号 | 10桁の資料番号 | リンク（詳細画面へ） |
| バーコード | バーコード番号 | |
| 書名 | 書籍タイトル | |
| 著者名 | 著者名 | |
| 出版社 | 出版社名 | |
| 出版年 | 出版年 | |
| 請求記号 | 請求記号 | |
| 配架場所 | 配架場所名 | |
| 蔵書状態 | 正常/整理中/除籍等 | ステータス色分け |
| 利用区分 | 貸出可/館内のみ等 | |
| [貸出ステータス](02_基本設計/0202_項目定義一覧/項目定義一覧.md#貸出ステータス) | 貸出中/利用可能等 | |
| 受入日 | YYYY/MM/DD | |

### 集計情報
| 項目名 | 表示内容 | 備考 |
|--------|----------|------|
| 検索結果総数 | 総件数表示 | |
| 状態別集計 | 状態毎の件数 | 正常/整理中等の内訳 |
| ページ情報 | 現在ページ/総ページ数 | 1ページ100件表示 |

## 操作機能

### 基本操作
- **検索実行**: 入力条件での検索実行
- **検索条件クリア**: 全検索条件をクリア
- **詳細表示**: 資料番号クリックで詳細画面へ
- **編集**: 個別蔵書の編集画面へ遷移

### 一括操作
- **一括選択**: チェックボックスでの複数選択
- **状態一括変更**: 選択した蔵書の状態一括変更
- **配架場所変更**: 選択した蔵書の配架場所変更
- **ラベル一括印刷**: 選択した蔵書のラベル印刷

### 表示制御
- **並び替え**: 各列ヘッダーでの並び替え
- **表示件数変更**: 50/100/200件表示切替
- **列表示設定**: 表示列のカスタマイズ
- **CSV出力**: 検索結果のCSV出力

### ページング操作
- **前ページ**: 前のページへ移動
- **次ページ**: 次のページへ移動
- **ページ指定**: 特定ページへ直接移動
- **先頭/最終**: 最初/最後のページへ移動

## エラーハンドリング

### 検索エラー
| エラー種別 | 表示メッセージ | 対応 |
|-----------|---------------|-----|
| 検索条件未入力 | 「検索条件を入力してください」 | |
| 検索結果0件 | 「該当する蔵書が見つかりません」 | |
| 検索タイムアウト | 「検索に時間がかかっています。条件を絞り込んでください」 | 条件絞込み促す |
| 検索結果上限 | 「検索結果が{X}件を超えました。条件を絞り込んでください」 | 条件追加促す |

### 操作エラー
| エラー種別 | 表示メッセージ | 対応 |
|-----------|---------------|-----|
| 選択なし | 「操作対象を選択してください」 | 選択促す |
| 貸出中変更不可 | 「貸出中の資料は状態変更できません」 | 返却促す |
| 権限不足 | 「この操作を実行する権限がありません」 | 権限確認促す |
| 一括処理失敗 | 「一部の処理に失敗しました」 | 失敗詳細表示 |

### システムエラー
| エラー種別 | 表示メッセージ | 対応 |
|-----------|---------------|-----|
| データベースエラー | 「データの取得に失敗しました」 | 再試行促す |
| CSV出力エラー | 「ファイルの出力に失敗しました」 | 出力設定確認 |
| 印刷エラー | 「印刷に失敗しました。プリンタを確認してください」 | プリンタ状態確認 |